* { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
body, html, #root { height: 100vh; width: 100vw; overflow: hidden; background: #000; }

:root {
    --accent: #007aff;
    --accent-rgb: 0,122,255;
    --win-bg: rgba(255, 255, 255, 0.1);
    --text-main: #ffffff;
    --sidebar-bg: rgba(255, 255, 255, 0.08);
    --border: rgba(255,255,255,0.15);
    --win-padding: 20px;
}

body.dark-mode {
    --win-bg: rgba(35, 35, 37, 0.95);
    --text-main: #ffffff;
    --sidebar-bg: rgba(45, 45, 47, 0.98);
    --border: rgba(255,255,255,0.15);
}

#desktop {
    height: 100%; width: 100%; background-size: cover; background-position: center;
    position: relative; font-family: -apple-system, "SF Pro Display", sans-serif;
    transition: background 0.5s ease;
}

/* Window UI trying to be macos theemed */
.window {
    position: absolute; background: var(--win-bg);
    border-radius: 12px; box-shadow: 0 30px 60px rgba(0,0,0,0.4);
    display: flex; flex-direction: column; overflow: hidden; color: var(--text-main);
    border: 0.5px solid var(--border);
}
.window { overflow: visible; }
.titlebar { height: 42px; background: rgba(0,0,0,0.02); display: flex; align-items: center; padding: 0 var(--win-padding); }
.dots { display: flex; gap: 8px; width: 60px; z-index: 100; }
.menubar { display: none; }

/* dumb actions please work */
.title-action { width:36px; height:28px; display:inline-flex; align-items:center; justify-content:center; border:0; background:transparent; color:var(--text-main); font-weight:700; border-radius:4px; }
.title-action:hover { background: rgba(255,255,255,0.04); }
.title-action.title-close:hover { background: rgba(255,90,90,0.15); color:#fff; }
.title-action.title-max:hover { background: rgba(255,255,255,0.03); }
.title-action.title-min:hover { background: rgba(255,255,255,0.02); }
.show-menubar .menubar { display: flex; }
.dot { width: 12px; height: 12px; border-radius: 50%; cursor: pointer; }
.close { background: #ff5f57; } .tile { background: #febc2e; } .full { background: #28c840; }
.win-title { flex: 1; padding-left: 10px; font-size: 13px; font-weight: 600; opacity: 0.5; pointer-events: none; }

/* make window go big */
.resizer { position: absolute; z-index: 60; }
.resizer.nw, .resizer.se { width:14px; height:14px; cursor:nwse-resize; }
.resizer.ne, .resizer.sw { width:14px; height:14px; cursor:nesw-resize; }
.resizer.n, .resizer.s { height:8px; left:12px; right:12px; cursor:ns-resize; }
.resizer.e, .resizer.w { width:8px; top:12px; bottom:12px; cursor:ew-resize; }
.resizer.nw { left:-7px; top:-7px; }
.resizer.ne { right:-7px; top:-7px; }
.resizer.sw { left:-7px; bottom:-7px; }
.resizer.se { right:-7px; bottom:-7px; }
.resizer.n { top:-4px; }
.resizer.s { bottom:-4px; }
.resizer.e { right:-4px; }
.resizer.w { left:-4px; }

.resizer::after { content: ''; display:block; width:100%; height:100%; border-radius:3px; background:transparent; }

/* forogt what this was for */
.app-container { display: flex; height: 100%; width: 100%; }
.sidebar { width: 280px; background: var(--sidebar-bg); border-right: 1px solid var(--border); padding: calc(var(--win-padding) / 1.2) 0; }
.notes-list { width: 240px; background: var(--win-bg); border-right: 1px solid var(--border); overflow-y: auto; }
.editor-view { flex: 1; padding: calc(var(--win-padding) * 2); overflow-y: auto; }

.side-item { padding: 10px 20px; font-size: 13px; cursor: pointer; transition: 0.2s; display: flex; align-items: center; gap: 10px; }
.side-item.active { background: var(--accent); color: white; }

/* Notes styling :) */
.note-row { padding: 14px 16px; border-bottom: 1px solid var(--border); cursor: pointer; transition: background 0.12s ease; display: flex; flex-direction: column; gap:6px; }
.note-row:hover { background: rgba(0,0,0,0.02); }
.note-row.active { background: linear-gradient(180deg, rgba(0,0,0,0.03), transparent); }
.note-row .title { font-weight:700; font-size:16px; }
.note-row .excerpt { font-size:13px; color:var(--text-main); opacity:0.75; }

/* Dark mode adjustments for Notes (Thank god i hated light mode) */
body.dark-mode .note-row:hover { background: rgba(255,255,255,0.02); }
body.dark-mode .note-row.active { background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); box-shadow: inset 0 1px 0 rgba(0,0,0,0.2); }


/* Settings controls??? */
.card { background: var(--win-bg); border: 1px solid var(--border); padding: 18px; border-radius: 12px; max-width: 820px; }
.control-row { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:calc(var(--win-padding) / 6) 6px; }
.control-row label { font-size:14px; font-weight:600; }
.control-row input[type="range"] { width:240px; }

/* Ensure range sliders actually work i hate these things I swear.*/
input[type="range"] { appearance: none; -webkit-appearance: none; -moz-appearance: none; height: 8px; background: rgba(255,255,255,0.06); border-radius: 6px; }
input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 14px; height: 14px; border-radius: 50%; background: var(--accent); box-shadow: 0 2px 6px rgba(0,0,0,0.4); border: 2px solid rgba(255,255,255,0.06); }
input[type="range"]::-moz-range-thumb { width: 14px; height: 14px; border-radius: 50%; background: var(--accent); border: none; }
input[type="range"]::-ms-thumb { width: 14px; height: 14px; border-radius: 50%; background: var(--accent); }
.control-row select, .control-row input[type="color"] { height:32px; }
.wall-thumb { height:120px; border-radius:8px; border:1px solid var(--border); cursor:pointer; }
.import-area { width:100%; border:1px solid var(--border); border-radius:8px; padding:8px; background:transparent; color:var(--text-main); }
.spinner { width:18px; height:18px; border-radius:50%; border:2px solid rgba(0,0,0,0.07); border-top-color:var(--accent); animation:spin 1s linear infinite; }
.hidden { display:none; }

@keyframes spin { to { transform: rotate(360deg); } }

/* Spinner already existant or whatever; ensure contrast in dark mode please */
.dark-mode .spinner { border-top-color: var(--accent); }

/* ===== POLISHING UGLY ANIMATIONS ===== */

/* Pretty for window animations */
@keyframes windowOpen {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes windowClose {
    from {
        opacity: 1;
        transform: scale(1);
    }
    to {
        opacity: 0;
        transform: scale(0.95) translateY(10px);
    }
}

.window {
    animation: windowOpen 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
}

/* When an app is maximized make the titlebar try to merge so i looks like macos and not dumb shit*/
.window.maximized {
    border-radius: 0 !important;
}
.window.maximized .titlebar {
    background: transparent !important;
    height: 44px;
    padding-left: 18px;
    padding-right: 18px;
    align-items: center;
    box-shadow: none !important;
}
.window.maximized .win-title { opacity: 0.85; }

/* Me when button antimation */
@keyframes buttonPress {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
}

button:active {
    animation: buttonPress 0.15s ease-out;
}

/* Loading spinner */
@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.loader {
    display: inline-block;
    width: 16px;
    height: 16px;
    border: 2px solid rgba(0, 0, 0, 0.1);
    border-radius: 50%;
    border-top-color: var(--accent);
    animation: spin 0.8s linear infinite;
}

.dark-mode .loader {
    border-color: rgba(255, 255, 255, 0.1);
}

/* Fade in or smth */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* Smooth transitions for dark mode YAYYYYYYYYYYYY */
body, .window, .dock, .island {
    transition: background 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Input focus glow becuz glow go boom */
input:focus, textarea:focus, select:focus {
    box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
    border-color: var(--accent);
    transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

/* Smooth~ scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
    transition: background 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.4);
}

.dark-mode ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
}

.dark-mode ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.4);
}

/* Tooltip animations YIPPE */
@keyframes tooltipFadeIn {
    from {
        opacity: 0;
        transform: translateY(-4px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

[data-tooltip]:hover::after {
    animation: tooltipFadeIn 0.2s ease-out;
}

/* Progress bar animation i think for boot menu */
@keyframes progressSlide {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
}

.progress {
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
    background-size: 1000px 100%;
    animation: progressSlide 2s infinite;
}

/* Smooth expand/collapse */
@keyframes expandHeight {
    from { max-height: 0; opacity: 0; }
    to { max-height: 500px; opacity: 1; }
}

.expandable {
    animation: expandHeight 0.3s ease-out;
}

/* File Manager polish */
.fm-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 12px;
    padding: 8px;
}
.fm-tile {
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.04);
    border-radius: 8px;
    padding: 12px;
    display:flex;
    flex-direction:column;
    gap:8px;
    transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
    cursor: pointer;
    min-height: 88px;
}
.fm-tile:hover { transform: translateY(-4px); box-shadow: 0 8px 20px rgba(0,0,0,0.45); background: rgba(255,255,255,0.03); }
.fm-tile .icon { font-size: 28px; }
.fm-tile .name { font-weight:700; font-size:13px; color:var(--text-main); overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.fm-tile .meta { font-size:12px; color:rgba(255,255,255,0.6); }
.fm-tile.selected { background: linear-gradient(180deg, rgba(var(--accent-rgb),0.12), rgba(0,0,0,0.03)); border-color: rgba(var(--accent-rgb),0.3); }
.fm-actions { display:flex; gap:6px; margin-top:auto; justify-content:flex-end; }
.fm-actions button { padding:6px 8px; border-radius:6px; background:transparent; border:1px solid var(--border); color:var(--text-main); }
.fm-actions button:hover { background: rgba(255,255,255,0.02); }

/* Context menu polish */
.fm-context { border-radius:8px; padding:10px; min-width:150px; }

/* Responsive tweaks for smth */
@media (max-width:900px) {
    .sidebar { width: 200px; }
    .fm-grid { grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); }
}

/* Stagger animation for list items */
@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-10px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.list-item {
    animation: slideInLeft 0.3s ease-out;
    animation-fill-mode: both;
}

.list-item:nth-child(1) { animation-delay: 0.05s; }
.list-item:nth-child(2) { animation-delay: 0.1s; }
.list-item:nth-child(3) { animation-delay: 0.15s; }
.list-item:nth-child(4) { animation-delay: 0.2s; }
.list-item:nth-child(5) { animation-delay: 0.25s; }

/* Success checkmark */
@keyframes checkmark {
    0% {
        stroke-dashoffset: 50;
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
    100% {
        stroke-dashoffset: 0;
        opacity: 1;
    }
}

.checkmark {
    animation: checkmark 0.6s ease-out;
}

/* Reduced motion respect */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Performance mode helpers */
body.perf-low {
    --win-bg: rgba(20,20,22,0.98);
}
body.perf-low .window {
    box-shadow: none !important;
    transition: none !important;
}
/* completely strip animations and transitions in low mode for laggy ass laptops */
body.perf-low,
body.perf-low * {
    animation: none !important;
    animation-duration: 0 !important;
    animation-delay: 0 !important;
    animation-iteration-count: 1 !important;
    transition: none !important;
}
body.perf-low .loader, body.perf-low .spinner { display: none !important; }
body.perf-low .title-action { opacity: 0.9; }

body.perf-medium * { transition-duration: 0.18s !important; }

/* When perf-low is active, reduce backdrop-filter heavy usage */
.password-input { backdrop-filter: blur(12px); }
body.perf-low .password-input { backdrop-filter: none !important; }

/* Notification Styles */
#notification-container {
    position: fixed;
    top: 10px;
    right: 10px;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.notification {
    display: flex;
    align-items: center;
    background: #333;
    color: #fff;
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    animation: fadeIn 0.3s;
}

.notification-icon img {
    width: 40px;
    height: 40px;
    margin-right: 10px;
}

.notification-content {
    flex: 1;
}

.notification-close {
    background: none;
    border: none;
    color: #fff;
    font-size: 16px;
    cursor: pointer;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Camera app responsive layout like apple */
.camera-root { position: absolute; inset: 0; height: 100%; width: 100%; display: flex; align-items: stretch; justify-content: stretch; background: transparent; padding: 0; margin: 0; border-radius: 0; }
.camera-viewfinder { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; overflow: hidden; min-height: 280px; }
.camera-video { width: 100%; height: 100%; object-fit: cover; display: block; background: #000; }
.camera-perm-overlay { backdrop-filter: blur(4px); }

/* Top controls like apple */
.top-bar { position: absolute; top: 12px; left: 12px; right: 12px; display: flex; align-items: center; justify-content: space-between; gap: 12px; z-index: 50; pointer-events: none; }
.top-bar > * { pointer-events: auto; }
.left-icons, .right-pills { display:flex; gap:8px; align-items:center; }
.icon-btn { background: rgba(0,0,0,0.35); border: 0; color: #fff; padding: 8px; border-radius: 8px; backdrop-filter: blur(4px); }
.icon-btn.active { background: rgba(255,255,255,0.08); }
.chevron { cursor: pointer; padding: 6px 8px; border-radius: 8px; background: rgba(0,0,0,0.2); }

/* Bottom shutter / gutter like apple*/
.gutter { position: absolute; bottom: 14px; left: 12px; right: 12px; display: flex; align-items: flex-end; justify-content: space-between; gap: 12px; z-index: 50; }
.gallery { width: 64px; height: 64px; border-radius: 8px; overflow: hidden; background: rgba(0,0,0,0.35); display:flex; align-items:center; justify-content:center; cursor: pointer; }
.gallery img, .gallery video { width: 100%; height: 100%; object-fit: cover; display:block; }
.placeholder { color: rgba(255,255,255,0.6); font-size:12px; }

.shutter-complex { display:flex; align-items:center; justify-content:center; flex: 1 1 auto; pointer-events: auto; }
.shutter-wrap { display:flex; align-items:center; justify-content:center; }
.outer-ring { width: 76px; height: 76px; border-radius: 50%; display:flex; align-items:center; justify-content:center; background: rgba(255,255,255,0.04); box-shadow: 0 6px 16px rgba(0,0,0,0.4); cursor: pointer; }
.outer-ring.down { transform: scale(0.96); }
.inner-circle { width: 54px; height: 54px; border-radius: 50%; background: rgba(255,255,255,0.95); }
.outer-ring.rippling { animation: ripple 360ms ease-out; }
@keyframes ripple { from { transform: scale(1); } to { transform: scale(0.98); } }

.focus-reticle { position: absolute; width: 48px; height: 48px; border: 2px solid #fff; border-radius: 50%; z-index: 48; pointer-events: none; box-shadow: 0 4px 18px rgba(0,0,0,0.6); }
.aeaf-lock { position: absolute; left: 50%; top: 18%; transform: translateX(-50%); background: rgba(0,0,0,0.5); color:#fff; padding:6px 8px; border-radius:8px; z-index:49; }

/* Recording indicator like apple */
.record-indicator { position: absolute; left: 12px; top: 12px; display:flex; gap:8px; align-items:center; background: rgba(0,0,0,0.35); color:#fff; padding:6px 8px; border-radius:8px; z-index:60; }
.record-indicator .red-dot { width:10px; height:10px; border-radius:50%; background: #ff3b30; box-shadow: 0 2px 8px rgba(255,59,48,0.3); }

/* small-window scaling rules yippe no more crashing out over a small resize */
@media (max-width:720px), (max-height:520px) {
    .outer-ring { width: 56px; height: 56px; }
    .inner-circle { width: 40px; height: 40px; }
    .gallery { width: 52px; height: 52px; }
    .top-bar { top: 8px; left: 8px; right: 8px; }
    .gutter { bottom: 10px; left: 8px; right: 8px; }
}

/* Pulse animation for recording indicator */
@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.3); opacity: 0.8; }
}

/* Camera app styles below - cleaned up responsive layout, and thank god for auto format my code looks so much better :SOB: */

.shutter-wrap { display:flex; align-items:center; justify-content:center; }
.outer-ring { width:84px; height:84px; border-radius:50%; border:2px solid rgba(255,255,255,0.9); display:flex; align-items:center; justify-content:center; transition:transform 0.12s ease; box-shadow: 0 8px 20px rgba(0,0,0,0.35), inset 0 6px 14px rgba(255,255,255,0.05); }
.outer-ring.down { transform: scale(0.9); }
.inner-circle { width:58px; height:58px; background:#fff; border-radius:50%; }

.lens-pills { position:absolute; left:40px; top:50%; transform:translateY(-50%); display:flex; flex-direction:column; gap:10px; pointer-events:auto; }
.lens-pill { width:42px; height:42px; border-radius:50%; background: rgba(255,255,255,0.06); color:#fff; display:flex; align-items:center; justify-content:center; font-weight:700; cursor:pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.4); }
.lens-pill.active { background:#fff; color:#000; }
.dial { position:absolute; left:56px; top:50%; transform:translateY(-50%); display:flex; gap:6px; padding:8px; border-radius:999px; background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); }
.dial .tick { width:2px; background:rgba(255,255,255,0.6); border-radius:1px; }

.focus-reticle { position:absolute; width:48px; height:48px; border:2px solid #FFD60A; border-radius:4px; box-shadow: 0 6px 18px rgba(0,0,0,0.45); animation: focusPulse 0.45s ease-out; }
@keyframes focusPulse { 0%{ transform:scale(0.9); opacity:0 } 50%{ transform:scale(1.05); opacity:1 } 100%{ transform:scale(1); opacity:1 } }

/* small label at bottom for debugging / identity */
.style-note { position: absolute; left: 22px; bottom: 22px; color: rgba(255,255,255,0.65); font-size:12px; }

/* glass material suggestion */
.camera-viewfinder::before { content:''; position:absolute; inset:0; /* reduced blur for clarity */ backdrop-filter: blur(2px) saturate(105%); background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); pointer-events:none; }

/* Advanced animations for camera UI */
.outer-ring { transition: transform 0.18s cubic-bezier(.2,.9,.2,1), box-shadow 0.18s ease; }
.outer-ring.rippling::after { content: ''; position: absolute; width: 84px; height: 84px; border-radius: 50%; left:0; top:0; box-shadow: 0 0 0 0 rgba(255,255,255,0.12); animation: ripple 520ms ease-out; pointer-events:none; }
@keyframes ripple { 0% { box-shadow: 0 0 0 0 rgba(255,255,255,0.22); transform: scale(1); opacity: 1 } 100% { box-shadow: 0 0 0 28px rgba(255,255,255,0); transform: scale(1.02); opacity: 0 } }

.mode { transition: transform 220ms cubic-bezier(.2,.9,.2,1), color 180ms ease, opacity 160ms ease; }
.mode.active { transform: translateY(-6px); text-shadow: 0 2px 8px rgba(0,0,0,0.45); }
.mode .dot { transform-origin: center; transition: transform 220ms cubic-bezier(.2,.9,.2,1), opacity 160ms ease; }

.top-bar { transition: transform 260ms cubic-bezier(.2,.9,.2,1), background 260ms ease; }
.top-bar.expanded { transform: translateY(-14px); }
.top-bar .left-icons, .top-bar .right-pills { transition: transform 260ms cubic-bezier(.2,.9,.2,1), opacity 200ms ease; }
.top-bar.expanded .left-icons { transform: translateY(-8px); }

.lens-pill { transition: transform 160ms cubic-bezier(.2,.9,.2,1), background 180ms ease, color 180ms ease; }
.lens-pill:hover { transform: scale(1.06); }
.lens-pill.active { transform: scale(1.12); box-shadow: 0 8px 24px rgba(0,0,0,0.45); }

.dial { opacity: 0; transform-origin: left center; transition: opacity 180ms ease, transform 220ms cubic-bezier(.2,.9,.2,1); }
.lens-pills:hover .dial, .lens-pills:focus-within .dial { opacity: 1; transform: translateX(6px); }

.focus-reticle { transition: transform 320ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease; }

.aeaf-lock { position:absolute; top:12px; left:50%; transform:translateX(-50%); background:linear-gradient(180deg,#FFD60A,#F6C400); color:#111; padding:8px 18px; border-radius:18px; font-weight:800; box-shadow: 0 8px 30px rgba(0,0,0,0.45); animation: aeafIn 260ms ease; z-index:80; }
@keyframes aeafIn { from { transform: translateX(-50%) translateY(-8px); opacity:0 } to { transform: translateX(-50%) translateY(0); opacity:1 } }

/* subtle specular highlight */
.camera-viewfinder::after { content:''; position:absolute; left:0; right:0; top:0; height:14%; background: linear-gradient(180deg, rgba(255,255,255,0.09), rgba(255,255,255,0.01)); mix-blend-mode: overlay; opacity:0.12; pointer-events:none; }

/* Ensure the video stays decent: no CSS blur/filter and use native rendering because it breaks if you don't IDIT */
.camera-video { filter: none !important; transform: translateZ(0); image-rendering: auto; -webkit-font-smoothing: antialiased; }

/* recording indicator */
.record-indicator { position:absolute; left:22px; top:22px; display:flex; gap:8px; align-items:center; z-index:80; background: rgba(0,0,0,0.35); padding:6px 10px; border-radius:12px; border:1px solid rgba(255,255,255,0.04); }
.record-indicator .red-dot { width:10px; height:10px; border-radius:50%; background: #ff3b30; box-shadow: 0 2px 8px rgba(255,59,48,0.6); }
.record-indicator .rec-time { color:#fff; font-weight:700; font-size:12px; }

/* Gallery modal styles */
.gallery-modal { position: absolute; inset: 10%; z-index:200; display:flex; align-items:center; justify-content:center; }
.gallery-modal::backdrop { backdrop-filter: blur(6px); }
.gallery-content { width: 80%; max-width: 1100px; background: rgba(12,12,12,0.9); border-radius:12px; border:1px solid rgba(255,255,255,0.05); box-shadow: 0 30px 80px rgba(0,0,0,0.7); color:#fff; overflow:hidden; }
.media-grid { background: transparent; }
.media-tile img { display:block; width:100%; height:100%; object-fit:cover; }



/* Layout-specific tweaks */
[data-layout="win11"] .titlebar, .layout-win11 .titlebar {
    height: 48px;
    padding: 10px 20px;
    border-radius: 10px 10px 0 0;
}
[data-layout="win11"] .window, .layout-win11 .window {
    border-radius: 12px;
}

/* macOS Dock layout: smaller titlebars and persistent dock spacing cuz it was lowk ugly */
.layout-macdock .titlebar, [data-layout="macdock"] .titlebar {
    height: 36px;
    padding: 6px 12px;
}
.dock-wrap { pointer-events: auto; }

/* Windows-style specific tweaks W11 sucks btw i use linux */
.layout-win11 .titlebar, [data-layout="win11"] .titlebar {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
    box-shadow: 0 6px 22px rgba(0,0,0,0.12);
}
.layout-win11 .win-title, [data-layout="win11"] .win-title { font-weight:800; color:var(--text-main); opacity:0.9; }

/* More macos dock crap */
.dock-icon { transition: transform 200ms cubic-bezier(.2,.9,.3,1), box-shadow 200ms ease, opacity 180ms ease; }
.dock-icon:hover { transform: translateY(-6px) scale(1.08); box-shadow: 0 12px 30px rgba(0,0,0,0.4); }
.dock-icon:active { transform: translateY(-2px) scale(1.02); }
.dock-wrap { transition: transform 300ms cubic-bezier(.2,.9,.3,1), opacity 240ms ease; }
.dock-wrap.showing { transform: translateY(0); opacity:1; }
.dock-wrap.hiding { transform: translateY(12px); opacity:0.0; }

/* Taskbar for Windows-11 layout */
.taskbar { pointer-events: auto; }
.taskbar-icon { transition: transform 180ms cubic-bezier(.2,.9,.3,1), box-shadow 180ms ease; }
.taskbar-icon:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(0,0,0,0.35); }
.taskbar-icon:active { transform: translateY(-2px) scale(0.98); }

/* Start button and menu */
.start-button { font-size:18px; width:40px; height:40px; background:rgba(255,255,255,0.02); color:var(--text-main); }
.start-button:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(0,0,0,0.35); }
.start-menu { animation: fadeIn 180ms cubic-bezier(.2,.9,.3,1); }

.taskbar-icon.minimized { opacity: 0.6; filter: grayscale(0.2); }
.taskbar-icon { position: relative; }
.taskbar-icon::after { content: ''; position: absolute; left:50%; transform:translateX(-50%); bottom:4px; width:6px; height:6px; border-radius:50%; background:var(--accent); opacity:0; transition:opacity 120ms ease; }
.taskbar-icon:not(.minimized)::after { opacity:1; }

/* Stage Manager (kinda works) (macOS-style minimized windows strip) */
.stage-manager { pointer-events: auto; }
.stage-manager .stage-item { width:56px; height:56px; border-radius:10px; padding:6px; background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04); display:flex; align-items:center; justify-content:center; transition:transform 180ms cubic-bezier(.2,.9,.3,1), box-shadow 180ms ease; }
.stage-manager .stage-item img { width:44px; height:44px; object-fit:contain; }
.stage-manager .stage-item:hover { transform:translateX(-6px) scale(1.04); box-shadow:0 12px 30px rgba(0,0,0,0.45); }
.stage-manager .stage-item:active { transform:translateX(-2px) scale(1.0); }





